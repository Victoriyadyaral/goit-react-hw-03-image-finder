(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__3gK0a",searchForm:"Searchbar_searchForm__3ahZB",searchFormWrap:"Searchbar_searchFormWrap__82UrC",searchFormButton:"Searchbar_searchFormButton__1iH1k",searchFormInput:"Searchbar_searchFormInput__26zQL",SearchFormInput:"Searchbar_SearchFormInput__3k0Gm"}},20:function(e,t,a){e.exports={overlay:"Modal_overlay__16wjS",modal:"Modal_modal__2BQio"}},21:function(e,t,a){e.exports={wrap:"ImageGallery_wrap__1qJFa",gallery:"ImageGallery_gallery__3v0F5"}},22:function(e,t,a){e.exports={errorWrap:"ImageErrorView_errorWrap__2LcH_",errorMessage:"ImageErrorView_errorMessage__1W6KY"}},23:function(e,t,a){e.exports={spinner:"ImagePendingView_spinner__2qwrZ",iconSpin:"ImagePendingView_iconSpin__2MJGp"}},27:function(e,t,a){e.exports={container:"Container_container__ii1RM"}},29:function(e,t,a){e.exports={button:"Button_button__1UWYv"}},35:function(e,t,a){},36:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(7),c=a.n(s),o=(a(34),a(35),a(2)),i=a(3),l=a(5),u=a(4),m=(a(36),a(9)),h=(a(37),a(27)),g=a.n(h),j=a(1);var p=function(e){var t=e.children;return Object(j.jsx)("div",{className:g.a.container,children:t})},d=a(8),b=a(10),f=a.n(b),O=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={requestTerm:""},e.handleInputChange=function(t){e.setState({requestTerm:t.currentTarget.value.toLowerCase()})},e.handleSubmit=function(t){t.preventDefault(),""!==e.state.requestTerm.trim()?(e.props.onSubmit(e.state.requestTerm),e.reset()):m.b.error("Sorry, that search term has no results. Please try an alternate search term.")},e.reset=function(){e.setState({requestTerm:""})},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(j.jsxs)("header",{className:f.a.searchbar,children:[Object(j.jsx)("h1",{children:"Image-finder"}),Object(j.jsx)("div",{className:f.a.searchFormWrap,children:Object(j.jsxs)("form",{className:f.a.searchForm,onSubmit:this.handleSubmit,children:[Object(j.jsx)("input",{className:f.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.requestTerm,onChange:this.handleInputChange}),Object(j.jsx)("button",{type:"submit",className:f.a.searchFormButton,children:Object(j.jsx)(d.d,{style:{marginRight:8},color:"rgb(90, 64, 90)",size:"30px","aria-label":"Search images"})})]})})]})}}]),a}(r.Component),v=a(14),_=a(20),y=a.n(_),x=document.querySelector("#modal-root"),w=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.src,a=e.alt;return Object(s.createPortal)(Object(j.jsx)("div",{className:y.a.overlay,onClick:this.handleBackdropClick,children:Object(j.jsx)("div",{className:y.a.modal,children:Object(j.jsx)("img",{src:t,alt:a,width:"1000"})})}),x)}}]),a}(r.Component),I=a(6),S=a.n(I),N=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={showModal:!1},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.webformatURL,a=e.tags,r=e.likes,n=e.views,s=e.comments,c=e.largeImageURL,o=this.state.showModal;return Object(j.jsxs)("li",{className:S.a.galleryItem,children:[Object(j.jsxs)("div",{className:S.a.photoCard,children:[Object(j.jsx)("img",{className:S.a.galleryImg,src:t,alt:a,onClick:this.toggleModal}),Object(j.jsxs)("div",{className:S.a.stats,children:[Object(j.jsxs)("p",{className:S.a.statsItem,children:[Object(j.jsx)(d.c,{style:{marginRight:8}}),Object(j.jsx)("span",{className:S.a.statsNumber,children:r})]}),Object(j.jsxs)("p",{className:S.a.statsItem,children:[Object(j.jsx)(d.b,{style:{marginRight:8}}),Object(j.jsx)("span",{className:S.a.statsNumber,children:n})]}),Object(j.jsxs)("p",{className:S.a.statsItem,children:[Object(j.jsx)(d.a,{style:{marginRight:8}}),Object(j.jsx)("span",{className:S.a.statsNumber,children:s})]})]})]}),o&&Object(j.jsx)(w,{onClose:this.toggleModal,src:c,alt:a})]})}}]),a}(r.Component),k=a(21),C=a.n(k);var q=function(e){var t=e.images;return Object(j.jsx)("div",{className:C.a.wrap,children:Object(j.jsx)("ul",{className:C.a.gallery,children:t.map((function(e){return Object(j.jsx)(N,{tags:e.tags,views:e.views,likes:e.likes,comments:e.comments,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL},e.id)}))})})},F=a(22),T=a.n(F),M=a.p+"static/media/errorImage.3b859cf7.jpg";function L(e){var t=e.message;return Object(j.jsxs)("div",{role:"alert",className:T.a.errorWrap,children:[Object(j.jsx)("img",{src:M,width:"340",alt:"error"}),Object(j.jsxs)("p",{className:T.a.errorMessage,children:["Sorry, something went wrong. Error:",t,"."]})]})}var B=a(23),G=a.n(B);function R(){return Object(j.jsx)("div",{role:"alert",children:Object(j.jsxs)("div",{className:G.a.spinner,children:[Object(j.jsx)(d.e,{size:"150",className:G.a.iconSpin}),"Loading..."]})})}var U=a(28),W=a(29),E=a.n(W),D=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).scroll=function(){e.props.onClick(),U.animateScroll.scrollToBottom()},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(j.jsx)("button",{onClick:this.scroll,className:E.a.button,type:"button",children:"Load more"})}}]),a}(r.Component);var P={fetchImage:function(e,t){var a="".concat("https://pixabay.com/api","/?q=").concat(e,"&page=").concat(t,"&key=").concat("22396340-e0d4683315286afcf7ffb4767","&image_type=photo&orientation=horizontal&per_page=12");return fetch(a).then((function(t){return t.ok?t.json():Promise.reject(new Error("No results on request ".concat(e)))}))}},A="idle",K="pending",H="resolved",z="rejected",J=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={requestTerm:null,images:[],error:null,page:1,status:A},e.findImages=function(){P.fetchImage(e.props.requestTerm,e.state.page).then((function(t){e.setState((function(e){return{images:[].concat(Object(v.a)(e.images),Object(v.a)(t.hits)),page:e.page+1,status:H}})),e.notify()})).catch((function(t){return e.setState({error:t,status:z})}))},e.notify=function(){e.state.images&&12===e.state.images.length?m.b.info("Your images found. Have a nice viewing"):0===e.state.images.length&&m.b.error("No image has been found. Please enter your request again!")},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.requestTerm!==this.props.requestTerm&&(this.setState({status:K,page:1}),P.fetchImage(this.props.requestTerm,this.props.page).then((function(e){if(0===e.total)return a.setState({status:"idle"});a.setState((function(t){return{images:Object(v.a)(e.hits),page:t.page+1,status:H}})),a.notify()})).catch((function(e){return a.setState({error:e,status:z})})))}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.error,r=e.status;return"idle"===r?Object(j.jsxs)("div",{children:[" ",Object(j.jsx)("h2",{children:"What images or photos are you looking for?"})]}):"pending"===r?Object(j.jsx)(R,{}):"rejected"===r?Object(j.jsx)(L,{message:a.message}):"resolved"===r?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(q,{images:t}),t.length>11&&Object(j.jsx)(D,{onClick:this.findImages})]}):void 0}}]),a}(r.Component),V=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={requestTerm:"",page:1,image:[]},e.handleFormSubmit=function(t){e.setState({requestTerm:t,page:1,images:[]})},e}return Object(i.a)(a,[{key:"render",value:function(){return Object(j.jsxs)(p,{children:[Object(j.jsx)(O,{onSubmit:this.handleFormSubmit}),Object(j.jsx)(J,{requestTerm:this.state.requestTerm,images:this.state.images,page:this.state.page}),Object(j.jsx)(m.a,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}}]),a}(r.Component);c.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(V,{})}),document.getElementById("root"))},6:function(e,t,a){e.exports={galleryItem:"ImageGalleryItem_galleryItem__dDw9G",galleryImg:"ImageGalleryItem_galleryImg__vfN1Q",stats:"ImageGalleryItem_stats__3qdva",statsItem:"ImageGalleryItem_statsItem__1KHOq",statsNumber:"ImageGalleryItem_statsNumber__vG1op"}}},[[49,1,2]]]);
//# sourceMappingURL=main.7a671028.chunk.js.map